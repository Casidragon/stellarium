SET(SATELLITES_VERSION "0.5.2")

SET(CMAKE_INSTALL_PREFIX $ENV{HOME}/.stellarium)


########### Generate plugin_config.h ###########
SET(PLUGIN_VERSION ${SATELLITES_VERSION})
CONFIGURE_FILE(plugin_config.h.cmake ${CMAKE_BINARY_DIR}/plugins/Satellites/src/plugin_config.h)

ADD_SUBDIRECTORY( src )
INSTALL(FILES DESTINATION "modules/Satellites")

########### Packaging info for CPack ###########
SET(CPACK_PACKAGE_NAME "Satellites")
SET(CPACK_PACKAGE_DESCRIPTION_SUMMARY "Satellites plugin for Stellarium")
SET(CPACK_PACKAGE_VENDOR "stellarium.org")
SET(CPACK_PACKAGE_DESCRIPTION_FILE "${CMAKE_CURRENT_SOURCE_DIR}/README")
SET(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_CURRENT_SOURCE_DIR}/COPYING")
SET(CPACK_PACKAGE_VERSION_MAJOR ${SATELLITES_MAJOR})
SET(CPACK_PACKAGE_VERSION_MINOR ${SATELLITES_MINOR})
SET(CPACK_PACKAGE_VERSION_PATCH ${SATELLITES_PATCH})
SET(CPACK_SOURCE_PACKAGE_FILE_NAME "${PACKAGE}-${VERSION}")
SET(CPACK_SOURCE_GENERATOR "TGZ")
SET(CPACK_GENERATOR "TGZ")
SET(CPACK_SOURCE_STRIP_FILES "")
SET(CPACK_SOURCE_IGNORE_FILES "/CVS/" "/.svn/" "/.git/" "builds/" "~$" "\\\\.swp$" "\\\\.#" "/#")
INCLUDE(CPack)

