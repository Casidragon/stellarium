// Name: Sky Image load test script
// License: Public Domain
// Author: Matthew Gates
// Description: This script demonstrates adding and manipulating sky images
//

var rootLabelText = "";
var statusLabelId = -1;
function useStatusLabel(root, x, y, size, color)
{
	rootLabelText = root
	statusLabelId = LabelMgr.labelScreen("", x, y, true, size, color);
}

function status(text)
{
	if (statusLabelId!=-1)
	{
		if (text!="")
		{
			LabelMgr.setLabelText(statusLabelId, rootLabelText + text);
		}
		else
		{
			LabelMgr.setLabelText(statusLabelId, "");
		}
	}
}

useStatusLabel("Sky Images Test 1: ", 50, core.getScreenHeight() - 50, 16, "#ff0000");

status("First lets look at the place we will load our image...");
core.clear("starchart");
core.selectObjectByName("M31", false);
StelMovementMgr.setFlagTracking(true);
StelMovementMgr.zoomTo(2,1);
core.wait(2);

status("loading...");
core.loadSkyImage("image", "../textures/earthmap.png", 41, 11.5, 41.17, 11.5, 41.17, 11.75, 41, 11.75);
core.wait(1);
status("showing image");
StelSkyImageMgr.showImage("image", true); 
core.wait(1);
status("removing image");
core.removeSkyImage("image");
core.wait(1);
